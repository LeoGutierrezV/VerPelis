<div class="home-container">
  <ng-container *ngIf="loading$ | async; else content">
    <app-loading [overlay]="true"></app-loading>
  </ng-container>

  <ng-template #content>
    <ng-container *ngIf="error$ | async as error; else movieContent">
      <app-error-display [message]="error"></app-error-display>
    </ng-container>

    <ng-template #movieContent>
      <section class="hero-section">
        <div class="hero-content">
          <h1 class="hero-title">Bienvenido a VerPelis</h1>
          <p class="hero-subtitle">Mira las últimas películas y series de televisión en streaming</p>
        </div>
      </section>

      <app-carousel
        title="Películas Destacadas"
        [movies]="(trendingMovies$ | async) ?? []"
        cardSize="large">
      </app-carousel>

      <app-carousel
        title="Populares Ahora"
        [movies]="(popularMovies$ | async) ?? []"
        cardSize="normal">
      </app-carousel>

      <app-carousel
        title="Mejor Valoradas"
        [movies]="(topRatedMovies$ | async) ?? []"
        cardSize="normal">
      </app-carousel>

      <app-carousel
        title="Próximamente"
        [movies]="(upcomingMovies$ | async) ?? []"
        cardSize="normal">
      </app-carousel>
    </ng-template>
  </ng-template>
</div>
